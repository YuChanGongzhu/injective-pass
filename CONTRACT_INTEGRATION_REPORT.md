# åˆçº¦é›†æˆå®ŒæˆæŠ¥å‘Š

## ğŸ“‹ å®ŒæˆçŠ¶æ€

### âœ… åˆçº¦éƒ¨ç½²å®Œæˆ
- **NFCWalletRegistry**: `0x3888E828947DEc728C730F6f0225b473a77C4744`
- **INJDomainNFT**: `0x2A9681e0724B906c0634680C1C5E56a58498802E`  
- **CatNFT**: `0x9a69D69c3927437b9A9A57F7D6c61C9AE0E5C011`

### âœ… åç«¯é›†æˆå®Œæˆ
- å·²æ·»åŠ  ethers.js ä¾èµ–å’Œåˆçº¦ ABI
- å·²ä¿®æ”¹ `InjectiveService` ä½¿ç”¨çœŸå®åˆçº¦äº¤äº’
- å·²åˆ›å»ºåˆçº¦æŸ¥è¯¢æ–¹æ³•
- å·²æ›´æ–°ç¯å¢ƒé…ç½®

## ğŸ”§ æŠ€æœ¯å®ç°

### 1. åˆçº¦ ABI æ–‡ä»¶
åˆ›å»ºäº†ä¸‰ä¸ªåˆçº¦çš„ ABI æ–‡ä»¶ï¼š
```
src/contract/abis/
â”œâ”€â”€ NFCWalletRegistry.json
â”œâ”€â”€ INJDomainNFT.json
â””â”€â”€ CatNFT.json
```

### 2. æœåŠ¡ä¿®æ”¹
**InjectiveService ä¸»è¦æ›´æ”¹**ï¼š
- æ·»åŠ äº† ethers.js provider å’Œ wallet
- åˆå§‹åŒ–äº†ä¸‰ä¸ªåˆçº¦å®ä¾‹
- ä¿®æ”¹äº† `mintDomainNFT()` æ–¹æ³•è°ƒç”¨çœŸå®åˆçº¦
- ä¿®æ”¹äº† `mintCatNFT()` æ–¹æ³•è°ƒç”¨çœŸå®åˆçº¦
- æ·»åŠ äº†åˆçº¦æŸ¥è¯¢æ–¹æ³•

### 3. æ–°å¢åŠŸèƒ½
- `getUserDomainInfo()` - è·å–ç”¨æˆ·åŸŸåä¿¡æ¯
- `getUserCats()` - è·å–ç”¨æˆ·å°çŒ«åˆ—è¡¨
- `isDomainAvailable()` - æ£€æŸ¥åŸŸåå¯ç”¨æ€§
- `isCatNameAvailable()` - æ£€æŸ¥å°çŒ«åç§°å¯ç”¨æ€§
- `getContractStatus()` - è·å–åˆçº¦çŠ¶æ€

## ğŸš€ ä½¿ç”¨æŒ‡å—

### 1. å¯åŠ¨åç«¯æœåŠ¡
```bash
cd /home/amyseer/injective/nfc-wallet-backend
npm run start:dev
```

### 2. è¿è¡Œé›†æˆæµ‹è¯•
```bash
node test-contract-integration.js
```

### 3. API ç«¯ç‚¹
- **åˆçº¦çŠ¶æ€**: `GET /api/contract/status`
- **åˆ›å»ºè´¦æˆ·**: `POST /api/nfc/create-account`
- **æ³¨å†ŒåŸŸå**: `POST /api/nfc/domain/register`
- **æŠ½å¡åŠŸèƒ½**: `POST /api/nfc/cat/draw`
- **ç”¨æˆ·ä¿¡æ¯**: `GET /api/user/info/:uid`

## ğŸ’¡ å…³é”®ç‰¹æ€§

### åŸŸåNFTé“¸é€ 
- è°ƒç”¨ `INJDomainNFT.mintDomainNFT()`
- æ”¯æŒ .inj åŸŸåæ ¼å¼
- è‡ªåŠ¨ç»‘å®š NFC UID
- è¿”å›çœŸå®äº¤æ˜“å“ˆå¸Œ

### å°çŒ«NFTæŠ½å¡
- è°ƒç”¨ `CatNFT.drawCatNFT()`
- æ”¯ä»˜ 0.1 INJ æŠ½å¡è´¹ç”¨
- é“¾ä¸Šéšæœºç”Ÿæˆç¨€æœ‰åº¦å’Œé¢œè‰²
- è§£æäº‹ä»¶è·å–NFTå±æ€§

### é”™è¯¯å¤„ç†
- åˆçº¦è°ƒç”¨å¤±è´¥è‡ªåŠ¨å›æ»š
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯ä¿¡æ¯

## ğŸ” éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥åˆçº¦éƒ¨ç½²
è®¿é—®åŒºå—æµè§ˆå™¨ç¡®è®¤åˆçº¦éƒ¨ç½²çŠ¶æ€ï¼š
- https://testnet.blockscout.injective.network/address/0x3888E828947DEc728C730F6f0225b473a77C4744
- https://testnet.blockscout.injective.network/address/0x2A9681e0724B906c0634680C1C5E56a58498802E
- https://testnet.blockscout.injective.network/address/0x9a69D69c3927437b9A9A57F7D6c61C9AE0E5C011

### 2. æµ‹è¯•åˆçº¦äº¤äº’
```bash
# è¿è¡Œé›†æˆæµ‹è¯•è„šæœ¬
node test-contract-integration.js

# é¢„æœŸè¾“å‡ºï¼š
# âœ… åˆçº¦çŠ¶æ€æ£€æŸ¥é€šè¿‡
# âœ… è´¦æˆ·åˆ›å»ºæˆåŠŸ
# âœ… åŸŸåNFTé“¸é€ æˆåŠŸ
# âœ… å°çŒ«NFTæŠ½å¡æˆåŠŸ
```

### 3. éªŒè¯äº¤æ˜“è®°å½•
- æ£€æŸ¥äº¤æ˜“å“ˆå¸Œåœ¨åŒºå—æµè§ˆå™¨ä¸­çš„çŠ¶æ€
- ç¡®è®¤NFTæ‰€æœ‰æƒæ­£ç¡®åˆ†é…
- éªŒè¯äº‹ä»¶æ—¥å¿—çš„å‡†ç¡®æ€§

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### Gas ä½¿ç”¨
- åŸŸåNFTé“¸é€ : ~300,000 gas
- å°çŒ«NFTæŠ½å¡: ~400,000 gas
- æŸ¥è¯¢æ“ä½œ: ~30,000 gas

### è´¹ç”¨ç»“æ„
- åŸŸåæ³¨å†Œ: å…è´¹ (registrationFee = 0)
- å°çŒ«æŠ½å¡: 0.1 INJ
- Gasè´¹ç”¨: ~0.001 INJ (å–å†³äºç½‘ç»œçŠ¶å†µ)

## ğŸ›¡ï¸ å®‰å…¨è€ƒè™‘

### ç§é’¥ç®¡ç†
- ä¸»è´¦æˆ·ç§é’¥å®‰å…¨å­˜å‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­
- ä½¿ç”¨ ethers.js å®‰å…¨ç­¾åäº¤æ˜“
- æ”¯æŒå¤šé‡ç­¾åå’Œæƒé™æ§åˆ¶

### åˆçº¦æƒé™
- åªæœ‰åˆçº¦ownerå¯ä»¥ä¿®æ”¹å…³é”®å‚æ•°
- ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„NFT
- é˜²é‡å…¥æ”»å‡»ä¿æŠ¤

## ğŸ”® ä¸‹ä¸€æ­¥è®¡åˆ’

### 1. å‰ç«¯é›†æˆ
- æ›´æ–°å‰ç«¯è¿æ¥é“¾ä¸Šåˆçº¦
- æ·»åŠ MetaMaské›†æˆ
- å®ç°NFTå±•ç¤ºç•Œé¢

### 2. åŠŸèƒ½æ‰©å±•
- NFTäº¤æ˜“å¸‚åœº
- å°çŒ«ç¤¾äº¤äº’åŠ¨
- åŸŸåè§£ææœåŠ¡

### 3. æ€§èƒ½ä¼˜åŒ–
- æ‰¹é‡æŸ¥è¯¢ä¼˜åŒ–
- ç¼“å­˜ç­–ç•¥å®ç°
- äº‹ä»¶ç›‘å¬æœºåˆ¶

---

## ğŸ“ æ”¯æŒä¿¡æ¯

å¦‚æœ‰é—®é¢˜æˆ–éœ€è¦å¸®åŠ©ï¼Œè¯·æŸ¥çœ‹ï¼š
- åˆçº¦ä»£ç : `/home/amyseer/injective/foundry-inj/src/`
- åç«¯ä»£ç : `/home/amyseer/injective/nfc-wallet-backend/src/`
- æµ‹è¯•è„šæœ¬: `/home/amyseer/injective/nfc-wallet-backend/test-contract-integration.js`

**é›†æˆå®Œæˆæ—¶é—´**: 2025å¹´7æœˆ26æ—¥
**ç‰ˆæœ¬**: v1.0.0
**çŠ¶æ€**: âœ… å®Œæˆå¹¶å¯ç”¨
