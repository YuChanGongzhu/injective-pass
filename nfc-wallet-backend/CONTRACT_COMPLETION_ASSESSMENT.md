# æ™ºèƒ½åˆçº¦å®Œæˆåº¦è¯„ä¼°æŠ¥å‘Š

## ğŸ“Š è¯„ä¼°æ¦‚è§ˆ

**è¯„ä¼°æ—¥æœŸ**: 2024å¹´7æœˆ24æ—¥  
**é¡¹ç›®**: Injective NFCé’±åŒ…ç³»ç»Ÿ  
**åˆçº¦ç›®å½•**: `foundry-inj/src/`

---

## ğŸ” ç°æœ‰åˆçº¦åˆ†æ

### ğŸ“‹ åˆçº¦æ¸…å•

| åˆçº¦åç§°           | æ–‡ä»¶å¤§å° | ä»£ç è¡Œæ•° | åŠŸèƒ½ç±»å‹         | ä¸NFCé’±åŒ…ç›¸å…³æ€§ |
| ------------------ | -------- | -------- | ---------------- | --------------- |
| PokemonCard.sol    | 7.0KB    | 232è¡Œ    | ERC721 NFT       | âŒ æ— å…³          |
| PokemonCardVRF.sol | 12KB     | 391è¡Œ    | ERC721 NFT + VRF | âŒ æ— å…³          |

### 1. PokemonCard.sol

#### âœ… æŠ€æœ¯å®ç°è´¨é‡
- **åˆçº¦ç±»å‹**: ERC721 NFTåˆçº¦
- **æŠ€æœ¯ç‰¹æ€§**:
  - æ ‡å‡†çš„OpenZeppelin ERC721å®ç°
  - éšæœºå±æ€§ç”Ÿæˆï¼ˆä¼ªéšæœºï¼‰
  - ç¨€æœ‰åº¦ç³»ç»Ÿï¼ˆæ™®é€šã€ç¨€æœ‰ã€å²è¯—ã€ä¼ è¯´ï¼‰
  - å±æ€§ç³»ç»Ÿï¼ˆæ”»å‡»ã€é˜²å¾¡ã€é€Ÿåº¦ï¼‰
  - æ‰¹é‡é“¸é€ åŠŸèƒ½

#### âŒ ä¸NFCé’±åŒ…é¡¹ç›®çš„åŒ¹é…åº¦
- **å…³è”æ€§**: 0% - å®Œå…¨æ— å…³
- **åŠŸèƒ½å®šä½**: Pokemonå¡ç‰‡æ”¶è—æ¸¸æˆ
- **ä¸åŒ¹é…åŸå› **:
  - ä¸“æ³¨äºNFTå¡ç‰‡å±æ€§ç”Ÿæˆ
  - æ— é’±åŒ…ç®¡ç†åŠŸèƒ½
  - æ— NFC UIDç›¸å…³é€»è¾‘
  - æ— åŸŸåç®¡ç†åŠŸèƒ½

### 2. PokemonCardVRF.sol

#### âœ… æŠ€æœ¯å®ç°è´¨é‡
- **åˆçº¦ç±»å‹**: é«˜çº§ERC721 NFTåˆçº¦
- **æŠ€æœ¯ç‰¹æ€§**:
  - é›†æˆChainlink VRF v2+
  - çœŸæ­£çš„éšæœºæ•°ç”Ÿæˆ
  - å¼‚æ­¥æŠ½å¡æœºåˆ¶
  - è¯·æ±‚çŠ¶æ€ç®¡ç†
  - ç”¨æˆ·å¾…å¤„ç†è¯·æ±‚è¿½è¸ª

#### âŒ ä¸NFCé’±åŒ…é¡¹ç›®çš„åŒ¹é…åº¦
- **å…³è”æ€§**: 0% - å®Œå…¨æ— å…³
- **åŠŸèƒ½å®šä½**: é«˜çº§Pokemonå¡ç‰‡æ¸¸æˆ
- **ä¸åŒ¹é…åŸå› **:
  - ä¸“æ³¨äºéšæœºæ•°å’ŒNFTç”Ÿæˆ
  - å¤æ‚çš„VRFé›†æˆï¼ˆNFCé¡¹ç›®ä¸éœ€è¦ï¼‰
  - æ— ä»»ä½•é’±åŒ…ç®¡ç†é€»è¾‘

---

## ğŸ¯ NFCé’±åŒ…é¡¹ç›®å®é™…éœ€æ±‚

### å¿…éœ€çš„æ™ºèƒ½åˆçº¦ç»„ä»¶

#### 1. NFCé’±åŒ…ç®¡ç†åˆçº¦ (NFCWalletManager.sol) âŒ ç¼ºå¤±
```solidity
contract NFCWalletManager {
    // NFC UIDåˆ°é’±åŒ…åœ°å€çš„æ˜ å°„
    mapping(string => address) public nfcToWallet;
    
    // é’±åŒ…åˆ›å»ºäº‹ä»¶
    event WalletCreated(string indexed nfcUID, address indexed wallet);
    
    // åˆ›å»ºé’±åŒ…çš„æ ¸å¿ƒå‡½æ•°
    function createWallet(string memory nfcUID) external returns (address);
}
```

#### 2. åŸŸåæ³¨å†Œåˆçº¦ (INJDomainRegistry.sol) âŒ ç¼ºå¤±
```solidity
contract INJDomainRegistry {
    // åŸŸååˆ°åœ°å€çš„æ˜ å°„
    mapping(string => address) public domainToAddress;
    mapping(address => string) public addressToDomain;
    
    // åŸŸåæ³¨å†Œäº‹ä»¶
    event DomainRegistered(string indexed domain, address indexed owner);
    
    // æ³¨å†Œ.injåŸŸå
    function registerDomain(string memory domain) external;
}
```

#### 3. é’±åŒ…å·¥å‚åˆçº¦ (WalletFactory.sol) âŒ ç¼ºå¤±
```solidity
contract WalletFactory {
    // ä½¿ç”¨Create2åˆ›å»ºç¡®å®šæ€§åœ°å€
    function createWallet(bytes32 salt) external returns (address);
    
    // é¢„è®¡ç®—é’±åŒ…åœ°å€
    function computeWalletAddress(bytes32 salt) external view returns (address);
}
```

### å¯é€‰çš„æ‰©å±•åˆçº¦

#### 4. å¤šç­¾é’±åŒ…åˆçº¦ (MultiSigWallet.sol) âŒ ç¼ºå¤±
- NFC + å…¶ä»–éªŒè¯æ–¹å¼çš„å¤šé‡ç­¾å
- å®‰å…¨æ€§å¢å¼ºåŠŸèƒ½

#### 5. èµ„äº§ç®¡ç†åˆçº¦ (AssetManager.sol) âŒ ç¼ºå¤±
- ä»£å¸ä½™é¢ç®¡ç†
- äº¤æ˜“å†å²è®°å½•

---

## ğŸ“ˆ å®Œæˆåº¦è¯„ä¼°

### æ€»ä½“å®Œæˆåº¦: **0%** âŒ

| åŠŸèƒ½æ¨¡å—     | éœ€æ±‚çŠ¶æ€ | å®ç°çŠ¶æ€ | å®Œæˆåº¦ |
| ------------ | -------- | -------- | ------ |
| NFCé’±åŒ…åˆ›å»º  | âœ… å¿…éœ€   | âŒ ç¼ºå¤±   | 0%     |
| UIDæ˜ å°„ç®¡ç†  | âœ… å¿…éœ€   | âŒ ç¼ºå¤±   | 0%     |
| åŸŸåæ³¨å†Œç³»ç»Ÿ | âœ… å¿…éœ€   | âŒ ç¼ºå¤±   | 0%     |
| é’±åŒ…å·¥å‚     | âœ… å¿…éœ€   | âŒ ç¼ºå¤±   | 0%     |
| å¤šç­¾æ”¯æŒ     | ğŸŸ¡ å¯é€‰   | âŒ ç¼ºå¤±   | 0%     |
| èµ„äº§ç®¡ç†     | ğŸŸ¡ å¯é€‰   | âŒ ç¼ºå¤±   | 0%     |

### ç°æœ‰åˆçº¦åˆ©ç”¨ä»·å€¼: **0%**

è™½ç„¶ç°æœ‰çš„Pokemonåˆçº¦è´¨é‡è¾ƒé«˜ï¼Œä½†ä¸NFCé’±åŒ…é¡¹ç›®éœ€æ±‚å®Œå…¨ä¸åŒ¹é…ï¼š
- âŒ æ— æ³•é‡ç”¨ç°æœ‰ä»£ç 
- âŒ æŠ€æœ¯æ ˆä¸é€‚ç”¨
- âŒ åŠŸèƒ½å®šä½å®Œå…¨ä¸åŒ

---

## ğŸš§ éœ€è¦å¼€å‘çš„åˆçº¦

### ä¼˜å…ˆçº§1: æ ¸å¿ƒåŠŸèƒ½åˆçº¦ (å¿…éœ€)

#### 1. NFCWalletManager.sol
```solidity
// SPDX-License-Identifier: MIT
pragma solidity 0.8.28;

contract NFCWalletManager {
    mapping(string => address) public nfcToWallet;
    mapping(address => string) public walletToNfc;
    
    event WalletLinked(string indexed nfcUID, address indexed wallet);
    
    function linkWallet(string memory nfcUID, address wallet) external {
        require(nfcToWallet[nfcUID] == address(0), "NFC already linked");
        nfcToWallet[nfcUID] = wallet;
        walletToNfc[wallet] = nfcUID;
        emit WalletLinked(nfcUID, wallet);
    }
}
```

#### 2. INJDomainRegistry.sol  
```solidity
// SPDX-License-Identifier: MIT
pragma solidity 0.8.28;

contract INJDomainRegistry {
    mapping(string => address) public domains;
    mapping(address => string) public addresses;
    
    event DomainRegistered(string indexed domain, address indexed owner);
    
    function register(string memory domain) external {
        require(domains[domain] == address(0), "Domain taken");
        domains[domain] = msg.sender;
        addresses[msg.sender] = domain;
        emit DomainRegistered(domain, msg.sender);
    }
}
```

### ä¼˜å…ˆçº§2: æ‰©å±•åŠŸèƒ½åˆçº¦ (å¯é€‰)

#### 3. SimpleWalletFactory.sol
- ç”¨äºæ‰¹é‡åˆ›å»ºé’±åŒ…
- Create2ç¡®å®šæ€§åœ°å€ç”Ÿæˆ

#### 4. NFCMultiSig.sol  
- NFC + ä¼ ç»Ÿç­¾åçš„å¤šé‡éªŒè¯
- å¢å¼ºå®‰å…¨æ€§

---

## ğŸ¯ å¼€å‘å»ºè®®

### çŸ­æœŸè®¡åˆ’ (1-2å‘¨)

#### Phase 1: æ ¸å¿ƒåˆçº¦å¼€å‘
1. **NFCWalletManager.sol** - NFC UIDæ˜ å°„ç®¡ç†
2. **INJDomainRegistry.sol** - .injåŸŸåæ³¨å†Œç³»ç»Ÿ
3. **éƒ¨ç½²è„šæœ¬** - Foundryéƒ¨ç½²é…ç½®

#### Phase 2: é›†æˆæµ‹è¯•
1. **åˆçº¦å•å…ƒæµ‹è¯•** - ä½¿ç”¨Foundryæµ‹è¯•æ¡†æ¶
2. **é›†æˆæµ‹è¯•** - ä¸åç«¯APIè”è°ƒ
3. **Testnetéƒ¨ç½²** - Injectiveæµ‹è¯•ç½‘éªŒè¯

### ä¸­æœŸè®¡åˆ’ (2-4å‘¨)

#### Phase 3: æ‰©å±•åŠŸèƒ½
1. **WalletFactory.sol** - æ‰¹é‡é’±åŒ…åˆ›å»º
2. **AssetManager.sol** - èµ„äº§ç®¡ç†åŠŸèƒ½
3. **äº‹ä»¶ç›‘å¬** - åç«¯ç›‘å¬åˆçº¦äº‹ä»¶

#### Phase 4: ç”Ÿäº§éƒ¨ç½²
1. **å®‰å…¨å®¡è®¡** - ä»£ç å®‰å…¨æ€§æ£€æŸ¥
2. **Gasä¼˜åŒ–** - é™ä½äº¤æ˜“æˆæœ¬
3. **ä¸»ç½‘éƒ¨ç½²** - Injectiveä¸»ç½‘ä¸Šçº¿

---

## ğŸ’° å¼€å‘æˆæœ¬ä¼°ç®—

### æŠ€æœ¯å¼€å‘æˆæœ¬

| é˜¶æ®µ         | å·¥ä½œé‡       | é¢„ä¼°æ—¶é—´ | å¤æ‚åº¦ |
| ------------ | ------------ | -------- | ------ |
| æ ¸å¿ƒåˆçº¦å¼€å‘ | 2ä¸ªåˆçº¦      | 1å‘¨      | ä¸­ç­‰   |
| æµ‹è¯•ç¼–å†™     | å®Œæ•´æµ‹è¯•è¦†ç›– | 3-5å¤©    | ä¸­ç­‰   |
| éƒ¨ç½²é…ç½®     | è„šæœ¬+æ–‡æ¡£    | 2-3å¤©    | ä½     |
| é›†æˆè”è°ƒ     | å‰åç«¯é›†æˆ   | 3-5å¤©    | ä¸­ç­‰   |

**æ€»è®¡**: çº¦15-20ä¸ªå·¥ä½œæ—¥

### éƒ¨ç½²æˆæœ¬ (Injectiveç½‘ç»œ)
- **Gasè´¹ç”¨**: æä½ (ç›¸æ¯”ä»¥å¤ªåŠèŠ‚çœ90%+)
- **æµ‹è¯•ç½‘**: å…è´¹
- **ä¸»ç½‘éƒ¨ç½²**: <$10 USD

---

## âš ï¸ é£é™©è¯„ä¼°

### æŠ€æœ¯é£é™©
1. **ä½é£é™©** - åˆçº¦é€»è¾‘ç›¸å¯¹ç®€å•
2. **ä¸­é£é™©** - éœ€è¦ä¸ç°æœ‰åç«¯APIå®Œç¾é›†æˆ
3. **ä½é£é™©** - Injectiveç½‘ç»œç¨³å®šæ€§é«˜

### å¼€å‘é£é™©
1. **æ—¶é—´é£é™©** - å¼€å‘æ—¶é—´æ§åˆ¶åœ¨å¯æ¥å—èŒƒå›´
2. **è´¨é‡é£é™©** - éœ€è¦å……åˆ†æµ‹è¯•ç¡®ä¿å®‰å…¨æ€§
3. **é›†æˆé£é™©** - å‰åç«¯é…åˆéœ€è¦å¯†åˆ‡åè°ƒ

---

## ğŸš€ æ‰§è¡Œè®¡åˆ’

### ç«‹å³å¼€å§‹ (æœ¬å‘¨)
1. âœ… åˆ é™¤æ— å…³çš„Pokemonåˆçº¦
2. ğŸ“ ç¼–å†™NFCWalletManager.sol
3. ğŸ“ ç¼–å†™INJDomainRegistry.sol
4. ğŸ§ª åˆ›å»ºåŸºç¡€æµ‹è¯•ç”¨ä¾‹

### ä¸‹å‘¨è®¡åˆ’
1. ğŸ”— é›†æˆåç«¯APIè°ƒç”¨åˆçº¦
2. ğŸŒ éƒ¨ç½²åˆ°Injectiveæµ‹è¯•ç½‘
3. ğŸ§ª ç«¯åˆ°ç«¯æµ‹è¯•éªŒè¯
4. ğŸ“š å®Œå–„æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—

---

## ğŸ“Š æ€»ç»“

### ç°çŠ¶æ€»ç»“
- **ç°æœ‰åˆçº¦**: 2ä¸ªPokemon NFTåˆçº¦ï¼Œä¸é¡¹ç›®éœ€æ±‚0%åŒ¹é…
- **å®é™…éœ€æ±‚**: éœ€è¦å…¨æ–°å¼€å‘NFCé’±åŒ…ç›¸å…³åˆçº¦
- **å¼€å‘éš¾åº¦**: ä¸­ç­‰ï¼Œä¸»è¦æ˜¯ç®€å•çš„æ˜ å°„å’Œæ³¨å†Œé€»è¾‘

### æ¨èç­–ç•¥
1. **æ¸…ç†ç°æœ‰åˆçº¦** - åˆ é™¤æ— å…³çš„Pokemonåˆçº¦
2. **èšç„¦æ ¸å¿ƒåŠŸèƒ½** - ä¼˜å…ˆå¼€å‘NFCæ˜ å°„å’ŒåŸŸåæ³¨å†Œ
3. **æ¸è¿›å¼å¼€å‘** - å…ˆå®ç°åŸºç¡€åŠŸèƒ½ï¼Œå†é€æ­¥æ‰©å±•
4. **å……åˆ†æµ‹è¯•** - ç¡®ä¿åˆçº¦å®‰å…¨æ€§å’Œå¯é æ€§

### é¡¹ç›®ä»·å€¼
é€šè¿‡å¼€å‘é€‚åˆçš„æ™ºèƒ½åˆçº¦ï¼Œå¯ä»¥å°†NFCé’±åŒ…é¡¹ç›®ä»"æ•°æ®åº“ç®¡ç†"å‡çº§ä¸º"åŒºå—é“¾åŸç”Ÿ"ï¼Œæå‡ï¼š
- ğŸ” **å®‰å…¨æ€§** - é“¾ä¸Šæ•°æ®ä¸å¯ç¯¡æ”¹
- ğŸŒ **å»ä¸­å¿ƒåŒ–** - å‡å°‘å¯¹ä¸­å¿ƒåŒ–æœåŠ¡ä¾èµ–  
- ğŸš€ **æ‰©å±•æ€§** - æ”¯æŒæ›´å¤šDeFié›†æˆ
- ğŸ’¡ **åˆ›æ–°æ€§** - çœŸæ­£çš„Web3 NFCé’±åŒ…è§£å†³æ–¹æ¡ˆ

---

**ç»“è®º**: ç°æœ‰åˆçº¦å®Œæˆåº¦ä¸º0%ï¼Œéœ€è¦é‡æ–°å¼€å‘é€‚åˆNFCé’±åŒ…é¡¹ç›®çš„æ™ºèƒ½åˆçº¦ã€‚å»ºè®®ç«‹å³å¼€å§‹æ ¸å¿ƒåˆçº¦å¼€å‘ï¼Œé¢„è®¡2-3å‘¨å¯å®ŒæˆåŸºç¡€åŠŸèƒ½å®ç°ã€‚ 